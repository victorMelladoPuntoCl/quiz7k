(()=>{"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var r=o.call(n,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"===e(t)?t:String(t)}function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function o(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?t(Object(r),!0).forEach((function(t){var o,s,c;o=e,s=t,c=r[t],(s=n(s))in o?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var r={currentScore:0,totalScore:0,totalQuizQuestions:0,score:0,results:[],currentPosition:0,userAnswers:[]},s=[],c=function(){return r},i=function(e){r=o(o({},r),e),s.forEach((function(e){return e(r)})),console.log("setState : currentPosition:"+r.currentPosition+" -  score:"+r.score)},a=function(e){s.push(e)},l=[{questionID:"1",trackProgress:[1],questionType:"multiple-choice",question:"¿Cuál de las siguientes alternativas son las contraindicaciones en la Reflexología?",answers:{a:"Durante el embarazo",b:"En caso de hongos, heridas o cualquier tipo de erupción",c:"En enfermedades en estado febril elevado",d:"Parálisis"},correctAnswers:["b","c"]},{questionID:"2",trackProgress:[1],questionType:"multiple-choice",question:"¿La Reflexología que enseñamos no es más que…?",answers:{a:"Una terapia complementaria a las indicaciones del médico",b:"Es una alternativa a la automedicación",c:"Trabajamos con la homeostasis",d:"Tiene un efecto benéfico sobre todas las partes del cuerpo"},correctAnswers:["c","d"]},{questionID:"3",trackProgress:[1],questionType:"single-choice",question:"Unos de los personajes más influyentes en La Historia de la reflexología a nivel occidental fue:",answers:{a:"Edwin Bowers",b:"Joseph Shelvy",c:"Dwight Byers",d:"Fitzgerald"},correctAnswers:["d"]},{questionID:"3",trackProgress:[1],questionType:"single-choice",question:"Unos de los personajes más influyentes en La Historia de la reflexología a nivel occidental fue:",answers:{a:"Edwin Bowers",b:"Joseph Shelvy",c:"Dwight Byers",d:"Fitzgerald"},correctAnswers:["d"]},{questionID:"3",trackProgress:[1],questionType:"single-choice",question:"Unos de los personajes más influyentes en La Historia de la reflexología a nivel occidental fue:",answers:{a:"Edwin Bowers",b:"Joseph Shelvy",c:"Dwight Byers",d:"Fitzgerald"},correctAnswers:["d"]},{questionID:"4",trackProgress:[1],questionType:"single-choice",question:"¿Cómo funciona la reflexología según la ciencia?",answers:{a:"Estímulo y respuesta a través de las terminaciones nerviosas",b:"La circulación sanguínea",c:"Estimulo de la piel",d:"Alternativa a y b"},correctAnswers:["a"]},{questionID:"6",trackProgress:[0],questionType:"feedback-slide",question:"---",answers:{a:"-",b:"-o",c:"-",d:"-"},correctAnswers:["-","-"],lastIntentCheck:{correct:["-","-"],incorrect:[],questionResult:["--"]}}];function u(e,n,t){if(console.log("nextslide \n currentArray.length = "+e.length),console.log("currentPosition = "+n),console.log(n<e.length-1),n<e.length-1){var o=n+1;return d(o,0,t),o}return n}function d(e,n,t){t.style.transform="translateX(-".concat(100*e,"%)"),console.log("updateSlide newPosition: "+e)}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var p=function(e){var n=e.question,t=e.index;return'\n<div class="sup"><h2>'.concat(n.question,'</h2></div>\n<div class="quiz-form-container">\n</div>\n    <form id="').concat(t,'" class="question-options">\n        \n        <span class="deco-top"></span>\n        <ul>\n        \n            ').concat(Object.entries(n.answers).map((function(e){var o,r,s=(r=2,function(e){if(Array.isArray(e))return e}(o=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,s,c,i=[],a=!0,l=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;a=!1}else for(;!(a=(o=s.call(t)).done)&&(i.push(o.value),i.length!==n);a=!0);}catch(e){l=!0,r=e}finally{try{if(!a&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(l)throw r}}return i}}(o,r)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(o,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],i=s[1];return'\n                <li><label for="'.concat(t,"-").concat(c,'" class="option">\n                    <input type="').concat("single-choice"===n.questionType?'radio" name="group-question-'+n.questionID:"checkbox",'" id="').concat(t,"-").concat(c,'" value="').concat(c,'" group="">\n                    <p>').concat(i,"</p>\n                    </label>\n                </li>\n            ")})).join(""),'\n        </ul>\n\n        <input type="hidden" name="questionID" value="').concat(t,'" class="questionID">\n        <input type="hidden" name="questionIndex" value="').concat(t,'" class="questionIndex">\n        <div class="questionFt">\n        <button type="submit" class="submitButton main-button">COMPROBAR</button>\n        </div>\n    </form>\n')};var y=c().currentPosition,m=document.querySelector(".slider"),g=document.getElementById("prev"),v=document.getElementById("next"),b=document.getElementById("continueButton");console.log("Documento cargado"),b.addEventListener("click",(function(){y=u(l,y,m),document.querySelector(".feedback").classList.add("hidden"),document.querySelector(".question-"+y).classList.add("active"),console.log("nextSlide terminado. currentPosition : "+y);var e=c();e.currentPosition=y,i(e)})),v.addEventListener("click",(function(){y=u(l,y,m),console.log("nextSlide terminado. currentPosition : "+y)})),g.addEventListener("click",(function(){y=function(e,n,t){if(console.log("-----"+n),n>0){var o=n-1;return console.log("prevSlide | "+n+" > "+o),console.log("updateSlide newPosition: "+o),d(o,0,t),o}return n}(0,y,m),console.log("nextSlide terminado. currentPosition : "+y)})),function(e,n){console.log("myQuestions.length = "+e.length);var t=c(),o=0;e.forEach((function(e,r){var s=document.createElement("div");switch(s.className="slide question-"+r,s.setAttribute("data-slide",r),e.questionType){case"multiple-choice":case"single-choice":s.innerHTML=p({question:e,index:r}),o+=1;break;case"feedback-slide":s.innerHTML=function(e){function n(e){var n,t=e.totalQuizQuestions,o=e.score;n=t==o?"¡Muy bien!":"¡Vuelve a intentarlo!";var r="\n        <div class=\"sup\">\n        <h2 class=''>Tu resultado:</h2>\n        <h2 class='quiz-result'>Preguntas totales:".concat(t,"</h2>\n        <h2 class='quiz-result'>Respuestas correctas: ").concat(o,"<h2>\n        <h2 class='quiz-result-text'>").concat(n,'</h2>\n        <button class="main-button" onclick="location.reload()">REINICIAR</button>\n        </div>\n        ');return console.log(r),r}return a(n),n(e)}(t);break;default:console.log("Error: no se reconoce el tipo de pregunta.")}console.log("totalQuizQuestions = "+o),t.totalQuizQuestions=o,i(t),n.appendChild(s)})),document.querySelectorAll(".question-options").forEach((function(n,t){n.addEventListener("submit",(function(o){o.preventDefault();var r=Array.from(n.querySelectorAll("input:checked")).map((function(e){return e.value}));console.log("userAnswers = "+r);var s=e[t].correctAnswers;!function(e,n,t,o,r){var s=[],a=[],l="",u=n[o].questionID,d=o,f=c(),p=f.score;if(0!==t.length){Object.keys(n[o].answers).sort(),t.sort(),r.sort(),JSON.stringify(t)===JSON.stringify(r)?(l="correct",f.score++):l="incorrect",f.results.push(l),t.forEach((function(e){r.includes(e)?s.push(e):a.push(e)}));var y={questionID:u,questionKey:d,userAnswers:t,score:p,correctQuestionAnswers:r,correct:s,incorrect:a,questionResult:l};return i(f),function(e){var n=e,t=document.getElementById(e.questionKey),o=document.querySelector(".feedback");o.classList.remove("hidden"),o.classList.add("animate__animated","animate__bounceIn"),o.querySelector(".feedback-text").textContent="correct"===n.questionResult?"¡Excelente!":"Tienes respuestas incorrectas, te recomendamos revisar el contenido y reintentar.";var r=t.querySelectorAll("ul input"),s=e.correctQuestionAnswers,c=e.correct,i=e.incorrect;console.log(c),r.forEach((function(e){e.checked&&c.includes(e.value)&&e.classList.add("correct"),e.checked&&i.includes(e.value)&&e.classList.add("incorrect"),0==e.checked&&s.includes(e.value)&&(console.log("faltó marcar: "+e.value),e.classList.add("incorrect-unchecked"))}))}(y),y}alert("Por favor elija una opción")}(o.target,e,r,t,s)}))}))}(l,m),function(e){e.forEach((function(e){if("feedback-slide"!=e.questionType){var n=document.createElement("li");n.classList.add("step"),document.querySelector(".progressbar").appendChild(n)}}))}(l),a((function(){document.querySelectorAll(".step").forEach((function(e,n){var t=c().results[n];t&&e.classList.add(t)}))}))})();